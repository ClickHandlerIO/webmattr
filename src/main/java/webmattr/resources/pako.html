<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <script type="text/javascript" src="pako.min.js"></script>
    <script type="text/javascript">
        // Get datastream as Array, for example:
        var charData    = [31,139,8,0,0,0,0,0,0,3,5,193,219,13,0,16,16,4,192,86,214,151,102,52,33,110,35,66,108,226,60,218,55,147,164,238,24,173,19,143,241,18,85,27,58,203,57,46,29,25,198,34,163,193,247,106,179,134,15,50,167,173,148,48,0,0,0];

        // Turn number array into byte-array
        var binData     = new Uint8Array(charData);

        // Pako magic
        var data        = pako.inflate(binData);

        // Convert gunzipped byteArray back to ascii string:
        var strData     = String.fromCharCode.apply(null, new Uint16Array(data));

        // Output to console
        console.log(strData);

        var test = { my: 'super', puper: [456, 567], awesome: 'pako' };
        test = [
            {
                "_id": "569bde4c7f8a5e14f31461fc",
                "index": 0,
                "guid": "c889dc11-7f23-42d0-a2a0-b7fdd3c9d08e",
                "isActive": false,
                "balance": "$2,510.56",
                "picture": "http://placehold.it/32x32",
                "age": 28,
                "eyeColor": "brown",
                "name": "Mcdonald Moon",
                "gender": "male",
                "company": "KEENGEN",
                "email": "mcdonaldmoon@keengen.com",
                "phone": "+1 (979) 470-2002",
                "address": "509 Indiana Place, Evergreen, Colorado, 3621",
                "about": "Et laboris elit nostrud consectetur non consectetur cillum officia Lorem. Est et eiusmod quis fugiat qui cupidatat eu ipsum eu laboris cillum non Lorem voluptate. Nostrud id minim laborum consectetur cupidatat et voluptate dolore incididunt labore magna excepteur commodo. Exercitation cupidatat ea Lorem in exercitation aute dolore aute dolor occaecat laboris cupidatat. Veniam laboris est duis nulla officia consectetur et esse.\r\n",
                "registered": "2014-09-04T09:26:57 +04:00",
                "latitude": 29.07355,
                "longitude": -110.362516,
                "tags": [
                    "quis",
                    "nostrud",
                    "adipisicing",
                    "mollit",
                    "adipisicing",
                    "nisi",
                    "irure"
                ],
                "friends": [
                    {
                        "id": 0,
                        "name": "Sandra Tyler"
                    },
                    {
                        "id": 1,
                        "name": "Gale Bradford"
                    },
                    {
                        "id": 2,
                        "name": "Peterson Brady"
                    }
                ],
                "greeting": "Hello, Mcdonald Moon! You have 1 unread messages.",
                "favoriteFruit": "strawberry"
            },
            {
                "_id": "569bde4ced22192c2fb0d3a2",
                "index": 1,
                "guid": "92fb0fc7-36d8-4795-8149-6aa4677407d6",
                "isActive": false,
                "balance": "$3,249.27",
                "picture": "http://placehold.it/32x32",
                "age": 22,
                "eyeColor": "brown",
                "name": "Little Flowers",
                "gender": "male",
                "company": "PLASMOSIS",
                "email": "littleflowers@plasmosis.com",
                "phone": "+1 (947) 441-3917",
                "address": "585 Wolcott Street, Brogan, Oklahoma, 9674",
                "about": "Velit ullamco voluptate mollit irure dolor aute magna eiusmod et nisi. Anim nulla magna minim sit. Irure sit adipisicing nulla laboris commodo aliquip sint laborum. Eiusmod magna ea pariatur irure reprehenderit non consectetur eiusmod commodo deserunt. Minim do sint reprehenderit fugiat do est consequat adipisicing sit incididunt excepteur aliquip consequat magna. Nostrud ex aute ipsum exercitation tempor veniam consequat fugiat.\r\n",
                "registered": "2015-02-06T05:01:42 +05:00",
                "latitude": -59.633738,
                "longitude": 118.854366,
                "tags": [
                    "exercitation",
                    "consequat",
                    "occaecat",
                    "incididunt",
                    "consequat",
                    "magna",
                    "aliqua"
                ],
                "friends": [
                    {
                        "id": 0,
                        "name": "Wilkins Hurst"
                    },
                    {
                        "id": 1,
                        "name": "Katheryn Castaneda"
                    },
                    {
                        "id": 2,
                        "name": "Talley Le"
                    }
                ],
                "greeting": "Hello, Little Flowers! You have 9 unread messages.",
                "favoriteFruit": "strawberry"
            },
            {
                "_id": "569bde4cafec38b3eee5afc3",
                "index": 2,
                "guid": "b8393709-7814-45c0-b433-832d1a061a85",
                "isActive": true,
                "balance": "$2,758.95",
                "picture": "http://placehold.it/32x32",
                "age": 24,
                "eyeColor": "blue",
                "name": "Hillary Todd",
                "gender": "female",
                "company": "KIDSTOCK",
                "email": "hillarytodd@kidstock.com",
                "phone": "+1 (906) 589-2206",
                "address": "229 Waldane Court, Oretta, West Virginia, 6721",
                "about": "Excepteur cillum commodo do incididunt pariatur est elit in qui ipsum tempor aliquip. Cillum enim ut duis proident id duis ut pariatur nulla ad laborum duis. Duis esse velit dolor ut quis ad dolor do aute aute deserunt. Eiusmod eu ut velit officia sunt amet magna laborum cillum cupidatat. Consequat exercitation duis dolore duis eu aute ea laboris elit mollit culpa quis esse. Ad amet aute magna Lorem. Labore quis duis pariatur nostrud incididunt reprehenderit dolor tempor veniam consequat reprehenderit aliquip ipsum do.\r\n",
                "registered": "2014-08-27T10:35:55 +04:00",
                "latitude": -32.21577,
                "longitude": 171.979189,
                "tags": [
                    "commodo",
                    "elit",
                    "velit",
                    "voluptate",
                    "nulla",
                    "cillum",
                    "sint"
                ],
                "friends": [
                    {
                        "id": 0,
                        "name": "Luella Mathews"
                    },
                    {
                        "id": 1,
                        "name": "Nona Arnold"
                    },
                    {
                        "id": 2,
                        "name": "Hamilton Wolf"
                    }
                ],
                "greeting": "Hello, Hillary Todd! You have 5 unread messages.",
                "favoriteFruit": "banana"
            },
            {
                "_id": "569bde4cb5d2bb50ec98e0cc",
                "index": 3,
                "guid": "5d57794e-39c2-4f1b-b506-7f25e8f2963f",
                "isActive": false,
                "balance": "$1,222.56",
                "picture": "http://placehold.it/32x32",
                "age": 28,
                "eyeColor": "green",
                "name": "Patrica Myers",
                "gender": "female",
                "company": "ECRATIC",
                "email": "patricamyers@ecratic.com",
                "phone": "+1 (892) 439-2858",
                "address": "317 Beayer Place, Odessa, American Samoa, 3327",
                "about": "Cupidatat eu commodo ut ipsum reprehenderit cillum eiusmod nisi minim. Sit tempor anim adipisicing nostrud cupidatat culpa id incididunt. Incididunt sit fugiat in ullamco est consequat excepteur nisi commodo aliquip duis laborum non. Magna do do enim sit. Incididunt irure qui ut consectetur esse esse sunt tempor.\r\n",
                "registered": "2014-01-10T01:10:33 +05:00",
                "latitude": 48.842025,
                "longitude": -138.387005,
                "tags": [
                    "deserunt",
                    "dolor",
                    "amet",
                    "velit",
                    "culpa",
                    "aliquip",
                    "incididunt"
                ],
                "friends": [
                    {
                        "id": 0,
                        "name": "Mabel Hutchinson"
                    },
                    {
                        "id": 1,
                        "name": "Riggs Fowler"
                    },
                    {
                        "id": 2,
                        "name": "Parsons Faulkner"
                    }
                ],
                "greeting": "Hello, Patrica Myers! You have 5 unread messages.",
                "favoriteFruit": "strawberry"
            },
            {
                "_id": "569bde4cb10deab658532e74",
                "index": 4,
                "guid": "af66ece3-9732-4290-b15a-e6fa14f620e6",
                "isActive": false,
                "balance": "$1,656.33",
                "picture": "http://placehold.it/32x32",
                "age": 28,
                "eyeColor": "brown",
                "name": "Ford Hamilton",
                "gender": "male",
                "company": "LOCAZONE",
                "email": "fordhamilton@locazone.com",
                "phone": "+1 (956) 574-3055",
                "address": "188 Colin Place, Barclay, Maryland, 7416",
                "about": "Cillum elit culpa et reprehenderit occaecat in dolor sit id eiusmod non. Non labore reprehenderit ut labore officia minim eu nostrud deserunt commodo duis adipisicing mollit esse. Pariatur commodo nulla id cillum Lorem sit enim voluptate sit ad id non incididunt. Do enim enim consectetur consectetur labore consequat irure cupidatat excepteur.\r\n",
                "registered": "2015-10-07T03:18:10 +04:00",
                "latitude": -88.820228,
                "longitude": -85.573448,
                "tags": [
                    "veniam",
                    "ut",
                    "dolor",
                    "laboris",
                    "excepteur",
                    "ut",
                    "veniam"
                ],
                "friends": [
                    {
                        "id": 0,
                        "name": "Maynard Glover"
                    },
                    {
                        "id": 1,
                        "name": "Cornelia Gutierrez"
                    },
                    {
                        "id": 2,
                        "name": "Joni Jefferson"
                    }
                ],
                "greeting": "Hello, Ford Hamilton! You have 7 unread messages.",
                "favoriteFruit": "apple"
            }
        ];

        var binaryString = pako.gzip(JSON.stringify(test), {to: 'string'});

        //
        // Here you can do base64 encode, make xhr requests and so on.
        //

        var restored = JSON.parse(pako.ungzip(binaryString, {to: 'string'}));

        console.log("Binary String");
        console.log(binaryString);
        console.log(typeof(binaryString));
        console.log(binaryString.length);
        console.log(JSON.stringify(test).length);
        console.log(btoa(binaryString).length);

        console.log("Restored");
        console.log(restored);
        console.log(JSON.stringify(restored));
    </script>
</head>
<body>

</body>
</html>